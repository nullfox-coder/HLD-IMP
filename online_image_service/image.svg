<svg xmlns="http://www.w3.org/2000/svg" style="background: #CCE5FF; background-color: light-dark(#CCE5FF, #182e44);" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="995px" height="1951px" viewBox="-0.5 -0.5 995 1951" content="&lt;mxfile&gt;&lt;diagram id=&quot;o3DUrDn28JIja_Srm2Wn&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><rect fill="#CCE5FF" width="100%" height="100%" x="0" y="0" style="fill: light-dark(rgb(204, 229, 255), rgb(24, 46, 68));"/><g><g><rect x="5" y="0" width="768" height="200" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 766px; height: 1px; padding-top: 7px; margin-left: 7px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 196px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1 style="margin-top: 0px;">Design Subscription based billing for Online Image Service</h1><div><br /></div><div><ul><li>All users should be able to upload the image for global range</li><li>All users should be able to view the image</li><li>Subscribed users can only download images</li><li>Images should support as many formats and resolution as possible for download(only subscribed users)</li><li>Users can search for images based on text.</li></ul></div></div></div></div></foreignObject><text x="7" y="19" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px">Design Subscription based billing for Online Image Service...</text></switch></g></g><g><rect x="5" y="237" width="469" height="176" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 467px; height: 1px; padding-top: 244px; margin-left: 7px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 172px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1 style="margin-top: 0px;">Non Functional Requirements</h1><p></p><ul><li>Consistency &gt;&gt; Availability for buying subscription downloads (Billing)</li><li>Availability &gt;&gt; Consistency for view images.</li><li>Scalable</li><li>Low Latency for view. (10s of ms)</li><li>Image should be visible with 5-10 min of upload</li></ul><p></p></div></div></div></foreignObject><text x="7" y="256" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px">Non Functional Requirements...</text></switch></g></g><g><rect x="-1" y="467" width="300" height="142" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 298px; height: 1px; padding-top: 474px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 138px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1 style="margin-top: 0px;">API / Interface</h1><p></p><ol><li>User should be able to upload the image.</li><li>User should be able to View the image.</li><li>User should be able to subscribe.</li><li>Subscribed user should be able to download.</li></ol><p></p></div></div></div></foreignObject><text x="1" y="486" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px">API / Interface...</text></switch></g></g><g><path d="M 52.5 957.8 L 123.12 818.48" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 125.49 813.8 L 125.45 821.62 L 123.12 818.48 L 119.21 818.46 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><path d="M 70.75 957.8 Q 120 958 120 896 Q 120 834 215.5 834 Q 311 834 311 799.17" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 311 793.92 L 314.5 800.92 L 311 799.17 L 307.5 800.92 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 836px; margin-left: 219px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; ">POST signed url</div></div></div></foreignObject><text x="219" y="839" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">P...</text></switch></g></g><g><path d="M 89 1051.55 L 145.86 1151.76" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 148.45 1156.33 L 141.95 1151.97 L 145.86 1151.76 L 148.04 1148.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1106px; margin-left: 121px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; "><font style="font-size: 10px;">getImages</font></div></div></div></foreignObject><text x="121" y="1110" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">g...</text></switch></g></g><g><rect x="16" y="957.8" width="73" height="125" rx="10.95" ry="10.95" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 71px; height: 1px; padding-top: 1020px; margin-left: 17px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 10px;">Client</font><div><font style="font-size: 10px;">App/Website</font></div></div></div></div></foreignObject><text x="53" y="1024" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Client...</text></switch></g></g><g><path d="M 232 1063.8 L 302.71 1111.25" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 307.07 1114.18 L 299.31 1113.18 L 302.71 1111.25 L 303.21 1107.37 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><path d="M 232 1199.94 L 316.86 1262.04" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 321.1 1265.14 L 313.38 1263.83 L 316.86 1262.04 L 317.52 1258.18 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><rect x="149" y="876.8" width="83" height="374" rx="12.45" ry="12.45" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 81px; height: 1px; padding-top: 1064px; margin-left: 150px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 10px;">Load Balancer</font><div><font style="font-size: 10px;">API Gateway</font></div><div><font style="font-size: 10px;">1. Routing</font></div><div><font style="font-size: 10px;">2. Authn / Authz</font></div><div><font style="font-size: 10px;">3. Rate Limiting</font></div></div></div></div></foreignObject><text x="191" y="1067" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Load Balancer...</text></switch></g></g><g><path d="M 390 899.8 L 447 879.44" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 451.95 877.68 L 446.53 883.33 L 447 879.44 L 444.18 876.73 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><rect x="308" y="884.8" width="82" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 80px; height: 1px; padding-top: 915px; margin-left: 309px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font>Image Service</font></div></div></div></foreignObject><text x="349" y="918" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Image Service</text></switch></g></g><g><path d="M 402.77 819.24 L 372.38 879.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 370.01 883.8 L 370.05 875.98 L 372.38 879.12 L 376.3 879.15 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 853px; margin-left: 390px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; "><font style="font-size: 9px;">notifications</font></div></div></div></foreignObject><text x="390" y="856" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">n...</text></switch></g></g><g><ellipse cx="365" cy="792.8" rx="54" ry="37" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 106px; height: 1px; padding-top: 793px; margin-left: 312px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">s3 Images</div></div></div></foreignObject><text x="365" y="796" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">s3 Images</text></switch></g></g><g><path d="M 446 955.8 C 446 947.52 459.43 940.8 476 940.8 C 483.96 940.8 491.59 942.38 497.21 945.19 C 502.84 948.01 506 951.82 506 955.8 L 506 1039.8 C 506 1048.08 492.57 1054.8 476 1054.8 C 459.43 1054.8 446 1048.08 446 1039.8 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 506 955.8 C 506 964.08 492.57 970.8 476 970.8 C 459.43 970.8 446 964.08 446 955.8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1008px; margin-left: 447px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 10px;">SQL DB</font><div><font style="font-size: 10px;">Postgress Image Metadata DB</font></div></div></div></div></foreignObject><text x="476" y="1011" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">SQL DB...</text></switch></g></g><g><path d="M 428 1114.8 L 652.86 1177.1" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 657.92 1178.5 L 650.24 1180.01 L 652.86 1177.1 L 652.11 1173.26 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1147px; margin-left: 547px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; ">get the images based onÂ <div>description tag and ranking</div></div></div></div></foreignObject><text x="547" y="1151" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">g...</text></switch></g></g><g><rect x="308" y="1084.8" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1115px; margin-left: 309px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Search Servcie</div></div></div></foreignObject><text x="368" y="1118" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Search Servcie</text></switch></g></g><g><path d="M 555 877.3 L 575 877.3 Q 585 877.3 585 867.3 L 585 850.3 Q 585 840.3 577 840.3 L 573 840.3 Q 569 840.3 569 830.3 L 569 813.3 Q 569 803.3 579 803.3 L 592.63 803.3" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 597.88 803.3 L 590.88 806.8 L 592.63 803.3 L 590.88 799.8 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><rect x="453" y="860.8" width="102" height="33" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 463 860.8 L 463 893.8 M 545 860.8 L 545 893.8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 80px; height: 1px; padding-top: 877px; margin-left: 464px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">kafka/SQS</div></div></div></foreignObject><text x="504" y="881" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">kafka/SQS</text></switch></g></g><g><path d="M 599 774.55 Q 599 734 515.5 734 Q 432 734 432 763.5 Q 432 793 425.37 792.9" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 420.12 792.82 L 427.17 789.43 L 425.37 792.9 L 427.06 796.42 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 746px; margin-left: 511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; ">Upload the processed images</div></div></div></foreignObject><text x="511" y="749" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">U...</text></switch></g></g><g><path d="M 699 803.3 L 768.29 837.48" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 773 839.81 L 765.17 839.85 L 768.29 837.48 L 768.27 833.57 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><rect x="599" y="745.8" width="100" height="115" rx="15" ry="15" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 803px; margin-left: 600px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Transofrmation Job<div>Spark/Flink</div></div></div></div></foreignObject><text x="649" y="807" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Transofrmation J...</text></switch></g></g><g><ellipse cx="703" cy="1178.8" rx="44" ry="44" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 86px; height: 1px; padding-top: 1179px; margin-left: 660px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Elastic Search</div></div></div></foreignObject><text x="703" y="1182" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Elastic Search</text></switch></g></g><g><path d="M 787 989.8 Q 887 990 887 833 Q 887 676 638.5 676 Q 390 676 389.77 749.43" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 389.75 754.68 L 386.28 747.67 L 389.77 749.43 L 393.28 747.69 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><path d="M 787 1004.8 L 821.79 1064.3" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 824.44 1068.83 L 817.88 1064.56 L 821.79 1064.3 L 823.92 1061.03 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><path d="M 727 1019.8 L 710.82 1125.78" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 710.03 1130.97 L 707.63 1123.52 L 710.82 1125.78 L 714.55 1124.58 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><rect x="667" y="959.8" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 990px; margin-left: 668px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Search Job</div></div></div></foreignObject><text x="727" y="993" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Search Job</text></switch></g></g><g><rect x="825" y="1039.8" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1070px; margin-left: 826px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ML model / getTagForImage</div></div></div></foreignObject><text x="885" y="1073" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">ML model / getTagFor...</text></switch></g></g><g><path d="M 186 782.8 L 304.83 789.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 310.07 789.66 L 302.89 792.77 L 304.83 789.37 L 303.27 785.78 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><rect x="66" y="752.8" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 783px; margin-left: 67px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">CDN</div></div></div></foreignObject><text x="126" y="786" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">CDN</text></switch></g></g><g><path d="M 89 989.05 L 142.37 960.78" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 147.01 958.32 L 142.46 964.69 L 142.37 960.78 L 139.19 958.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 978px; margin-left: 118px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; "><font style="font-size: 10px;">/preupload</font></div></div></div></foreignObject><text x="118" y="982" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">/...</text></switch></g></g><g><path d="M 232 970.3 L 304.7 923.24" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 309.11 920.39 L 305.14 927.13 L 304.7 923.24 L 301.33 921.25 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><path d="M 349 884.8 L 329.23 825.28" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 327.58 820.3 L 333.11 825.84 L 329.23 825.28 L 326.46 828.05 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><path d="M 327.23 819.24 L 319.32 879.57" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 318.64 884.77 L 316.08 877.38 L 319.32 879.57 L 323.02 878.29 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 858px; margin-left: 294px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; "><font style="font-size: 8px;">presigned URL/S3 link</font></div></div></div></foreignObject><text x="294" y="862" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">p...</text></switch></g></g><g><rect x="315.5" y="733.8" width="99" height="22" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 97px; height: 1px; padding-top: 745px; margin-left: 317px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Presigned URL</div></div></div></foreignObject><text x="365" y="748" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Presigned URL</text></switch></g></g><g><path d="M 390 929.8 L 441.95 992.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 445.29 996.94 L 438.14 993.76 L 441.95 992.88 L 443.54 989.31 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><path d="M 386.64 942.34 L 442.73 1025.24" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 445.67 1029.59 L 438.85 1025.76 L 442.73 1025.24 L 444.65 1021.83 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><rect x="604" y="706.8" width="100" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 722px; margin-left: 605px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Transformation Step</div></div></div></foreignObject><text x="654" y="725" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Transformation S...</text></switch></g></g><g><path d="M 822.5 857.8 L 731.35 955.15" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 727.76 958.98 L 729.99 951.48 L 731.35 955.15 L 735.1 956.27 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><rect x="774" y="822.8" width="97" height="35" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 784 822.8 L 784 857.8 M 861 822.8 L 861 857.8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 75px; height: 1px; padding-top: 840px; margin-left: 785px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Kafka/SQS</div></div></div></foreignObject><text x="823" y="844" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Kafka/SQS</text></switch></g></g><g><path d="M 649 860.8 L 510.6 993.39" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 506.81 997.03 L 509.44 989.66 L 510.6 993.39 L 514.28 994.71 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 933px; margin-left: 579px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; background-color: #ffffff; "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); white-space: nowrap; ">get s3 link</div></div></div></foreignObject><text x="579" y="937" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">g...</text></switch></g></g><g><rect x="644" y="870.8" width="60" height="64" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 903px; margin-left: 645px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ffmpeg:<div>image processing library</div></div></div></div></foreignObject><text x="674" y="906" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">ffmpeg:...</text></switch></g></g><g><path d="M 382 1295.8 L 375.29 1391.55" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 374.93 1396.79 L 371.93 1389.56 L 375.29 1391.55 L 378.91 1390.05 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><path d="M 442 1265.8 L 538.13 1346.7" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 542.14 1350.08 L 534.54 1348.25 L 538.13 1346.7 L 539.04 1342.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><rect x="322" y="1235.8" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1266px; margin-left: 323px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Billing Service</div></div></div></foreignObject><text x="382" y="1269" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Billing Service</text></switch></g></g><g><ellipse cx="372" cy="1437.8" rx="40" ry="40" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1438px; margin-left: 333px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Payment to 3rd party</div></div></div></foreignObject><text x="372" y="1441" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Payment to 3r...</text></switch></g></g><g><rect x="543" y="1320.8" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1351px; margin-left: 544px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Billing Metadata</div></div></div></foreignObject><text x="603" y="1354" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Billing Metadata</text></switch></g></g><g><rect x="572" y="1552" width="278" height="363" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 276px; height: 1px; padding-top: 1559px; margin-left: 574px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 359px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1 style="margin-top: 0px;">Order of Execution</h1><p></p><ol><li>Client call preupload API</li><ul><li>call s3 to get presigned URL</li><li>create entry for an image in sql db.</li></ul><li>Client call S3 API to upload the actual image.</li><li>Use S3 event notification.</li><ul><li>Update the status of image in sql database.</li><li>Add an event to queue for transformation.</li></ul><li>Transform job is running continuously.</li><ul><li>Consume the events and transform the images using image processing libraries.</li><li>Upload the processed images to S3</li><li>Update the SQL database to available.</li></ul></ol><p></p></div></div></div></foreignObject><text x="574" y="1571" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px">Order of Execution...</text></switch></g></g><g><rect x="37" y="1552" width="332" height="395" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 330px; height: 1px; padding-top: 1559px; margin-left: 39px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 391px; overflow: hidden; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1 style="margin-top: 0px;">POST: domain/images/preupload</h1><p>request : {</p><p style="line-height: 100%;"><span style="white-space: pre;">	</span>type:</p><p style="line-height: 100%;"><span style="white-space: pre;">	</span>resolution:<br /></p><p style="line-height: 100%;"><span style="white-space: pre;">	</span>tag:<br /></p><p style="line-height: 100%;">}</p><p style="line-height: 100%;"><br /></p><p style="line-height: 100%;">response:{</p><p style="line-height: 100%;">s3link:</p><p style="line-height: 100%;">}</p><p style="line-height: 100%;"><br /></p><p style="line-height: 100%;">INSERTED: user has inserted the image in the system</p><p style="line-height: 100%;">IN_PROCESS: image is getting processed to support multiple formats and resolution.</p><p style="line-height: 100%;">AVAILABLE: Image is available to be downloaded.</p></div></div></div></foreignObject><text x="39" y="1571" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px">POST: domain/images/preupload...</text></switch></g></g><g><rect x="833" y="1307" width="161" height="147" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 159px; height: 1px; padding-top: 1381px; margin-left: 834px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">img:{<div>id:</div><div>s3link:</div><div>description:</div><div>tags:list&lt;strings&gt;</div><div>status: UPLOADED/</div><div>IN_PROCESS/</div><div>AVAILABLE</div><div>created_at:</div><div>}</div></div></div></div></foreignObject><text x="914" y="1384" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">img:{...</text></switch></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>